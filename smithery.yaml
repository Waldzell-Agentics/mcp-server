runtime: "container"
build:
  dockerfile: "Dockerfile"
  dockerBuildPath: "."
startCommand:
  type: "http"
  configSchema:
    type: "object"
    required: ["MAPBOX_ACCESS_TOKEN"]
    properties:
      MAPBOX_ACCESS_TOKEN:
        type: "string"
        title: "Mapbox access_token"
        description: "Your Mapbox secret access token"
        sensitive: true
  commandFunction: |
    (config) => ({
      command: 'node',
      args: ['dist/index.js'],
      env: {
        MAPBOX_ACCESS_TOKEN: config.MAPBOX_ACCESS_TOKEN
      }
    })